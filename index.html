<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>海豚社区 · 会员中心 - 开启海豚模式，陪现在的你，走未来的路</title>
  
  <!-- SEO优化 -->
  <meta name="description" content="海豚社区会员中心，提供OKX Boost、经济模型演示、常用工具和个人中心功能。开启海豚模式，陪现在的你，走未来的路。">
  <meta name="keywords" content="海豚社区,会员中心,OKX Boost,经济模型,数字货币,工具">
  <meta name="author" content="海豚社区">
  <meta name="theme-color" content="#3b82f6">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://dolphin-community.com/">
  <meta property="og:title" content="海豚社区 · 会员中心">
  <meta property="og:description" content="开启海豚模式，陪现在的你，走未来的路">
  <meta property="og:image" content="https://dolphin-community.com/og-image.png">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://dolphin-community.com/">
  <meta property="twitter:title" content="海豚社区 · 会员中心">
  <meta property="twitter:description" content="开启海豚模式，陪现在的你，走未来的路">
  <meta property="twitter:image" content="https://dolphin-community.com/og-image.png">

  <!-- 字体 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- 预加载关键资源 -->
  <link rel="preload" href="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js" as="script">
  
  <!-- 性能优化 -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>

  <style>
    :root {
      /* CSS变量 - 统一管理设计系统 */
      --primary-gradient: linear-gradient(135deg, #f8fafc 0%, #f0f9ff 100%);
      --accent-gradient: linear-gradient(90deg, #1e40af, #3b82f6 50%, #60a5fa);
      --button-gradient: linear-gradient(90deg, #3b82f6, #60a5fa);
      --text-primary: #0f172a;
      --text-secondary: #475569;
      --blue-50: #f0f9ff;
      --blue-100: #e0f2fe;
      --blue-200: #bae6fd;
      --blue-300: #7dd3fc;
      --blue-400: #38bdf8;
      --blue-500: #0ea5e9;
      --blue-600: #0284c7;
      --blue-700: #0369a1;
      --blue-800: #075985;
      --blue-900: #0c4a6e;
      --shadow-sm: 0 2px 8px rgba(0,0,0,0.04);
      --shadow-md: 0 10px 24px rgba(59,130,246,0.28);
      --shadow-lg: 0 12px 28px rgba(59,130,246,0.32);
      --radius-full: 999px;
      --animation-breathe: 7s ease-in-out infinite;
      --animation-fade: 1.4s ease-out 0.6s forwards;
      --animation-ripple: 0.8s ease-out;
      --safe-area-top: env(safe-area-inset-top, 0px);
      --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--primary-gradient);
      min-height: 100vh;
      color: var(--text-primary);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* 加载状态 */
    .loading-state {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--primary-gradient);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    .loading-spinner {
      width: 48px;
      height: 48px;
      border: 3px solid rgba(59, 130, 246, 0.1);
      border-top-color: var(--blue-600);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    .loading-state p {
      color: var(--blue-700);
      font-weight: 500;
      opacity: 0.8;
    }

    .content-hidden {
      opacity: 0;
      visibility: hidden;
    }

    .content-visible {
      opacity: 1;
      visibility: visible;
      animation: fadeIn 0.8s ease;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .top-hero {
      position: relative;
      padding: calc(80px + var(--safe-area-top)) 20px 60px;
      text-align: center;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      background: var(--primary-gradient);
      overflow: hidden;
    }

    .main-title {
      font-weight: 900;
      font-size: clamp(44px, 10vw, 68px);
      line-height: 1.05;
      letter-spacing: -1.5px;
      background: var(--accent-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin: 0 0 20px;
      animation: titleBreathe var(--animation-breathe);
      will-change: transform;
    }

    .subtitle {
      font-weight: 600;
      font-size: clamp(24px, 6vw, 32px);
      background: var(--accent-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      max-width: min(720px, 90vw);
      margin: 0 auto 48px;
      opacity: 0;
      transform: translateY(40px);
      animation: subtitleFade var(--animation-fade);
    }

    .dolphin-wrapper {
      position: absolute;
      top: 12%;
      right: 6%;
      width: min(260px, 30vw);
      height: min(160px, 20vw);
      pointer-events: none;
      z-index: 1;
      will-change: transform;
    }

    @media (max-width: 1100px) {
      .dolphin-wrapper {
        top: 10%;
        right: 4%;
      }
    }

    @media (max-width: 768px) {
      .dolphin-wrapper {
        top: 8%;
        right: 4%;
        width: 200px;
        height: 130px;
      }
    }

    @media (max-width: 640px) {
      .dolphin-wrapper {
        position: relative;
        top: 0;
        right: 0;
        width: min(180px, 50vw);
        height: min(110px, 30vw);
        margin: 30px auto 40px;
      }
      
      .top-hero {
        padding: calc(60px + var(--safe-area-top)) 20px 40px;
      }
    }

    /* 无障碍访问 - 高对比度模式支持 */
    @media (prefers-contrast: high) {
      .dolphin-svg {
        filter: contrast(1.2) brightness(1.1);
      }
    }

    /* 减少动画 - 尊重用户偏好 */
    @media (prefers-reduced-motion: reduce) {
      .main-title,
      .subtitle,
      .dolphin-group,
      .splash,
      .ripple,
      .menu-btn {
        animation: none !important;
        transition: none !important;
      }
    }

    .dolphin-svg {
      width: 100%;
      height: 100%;
    }

    .dolphin-group {
      filter: url(#glow);
      transform: translateZ(0);
      will-change: transform, filter;
    }

    .quick-menu {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: clamp(12px, 3vw, 24px);
      max-width: min(720px, 90vw);
      margin: 0 auto 60px;
      padding: 0 20px;
    }

    .menu-btn {
      position: relative;
      padding: 12px clamp(24px, 5vw, 32px);
      border-radius: var(--radius-full);
      background: #f1f5f9;
      color: var(--text-secondary);
      font-weight: 600;
      font-size: clamp(14px, 2vw, 16px);
      text-decoration: none;
      border: 2px solid transparent;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
      outline: 2px solid transparent;
      outline-offset: 2px;
    }

    .menu-btn:focus-visible {
      outline: 2px solid var(--blue-500);
      outline-offset: 2px;
      background: var(--blue-100);
    }

    .menu-btn:hover,
    .menu-btn.active {
      background: var(--button-gradient);
      color: white;
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
      border-color: var(--blue-400);
    }

    .menu-btn:active {
      transform: translateY(-2px);
      transition: transform 0.1s ease;
    }

    .ripple {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0) 70%);
      transform: scale(0);
      pointer-events: none;
      animation: rippleEffect var(--animation-ripple);
    }

    @keyframes titleBreathe { 
      0%, 100% { transform: scale(1); } 
      50% { transform: scale(1.025); } 
    }

    @keyframes subtitleFade { 
      to { opacity: 1; transform: translateY(0); } 
    }

    @keyframes rippleEffect {
      to {
        transform: scale(1);
        opacity: 0;
      }
    }

    /* 页脚 */
    .page-footer {
      text-align: center;
      padding: 30px 20px;
      color: var(--blue-700);
      font-size: 14px;
      opacity: 0.7;
      border-top: 1px solid rgba(59, 130, 246, 0.1);
      margin-top: auto;
      padding-bottom: calc(20px + var(--safe-area-bottom));
    }

    .page-footer a {
      color: var(--blue-600);
      text-decoration: none;
      transition: color 0.2s ease;
    }

    .page-footer a:hover {
      color: var(--blue-800);
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <!-- 加载状态 -->
  <div class="loading-state" id="loadingState">
    <div class="loading-spinner" aria-label="加载中..."></div>
    <p>正在加载海豚社区...</p>
  </div>

  <main class="content-hidden" id="mainContent">
    <section class="top-hero" aria-labelledby="pageTitle">
      <h1 class="main-title" id="pageTitle">海豚社区 会员中心</h1>
      <p class="subtitle">开启海豚模式，陪现在的你，走未来的路</p>

      <div class="dolphin-wrapper" aria-hidden="true">
        <svg class="dolphin-svg" viewBox="0 0 320 180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="动画海豚图标">
          <defs>
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur stdDeviation="5" result="blur"/>
              <feMerge>
                <feMergeNode in="blur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>

          <g class="dolphin-group" filter="url(#glow)">
            <!-- 身体 -->
            <path d="M290 85 Q240 30,180 85 T70 85 Q30 135,70 85 L110 105 Q135 125,160 105 L290 85 Z" 
                  fill="none" stroke="#60a5fa" stroke-width="7" opacity="0.18"/>

            <!-- 尾巴 -->
            <path class="tail" d="M70 85 Q50 75,30 95 Q20 115,40 105 Q60 95,70 85" 
                  fill="none" stroke="#3b82f6" stroke-width="8" opacity="0.28"/>

            <!-- 水花 -->
            <circle class="splash splash1" cx="50" cy="110" r="6" fill="#93c5fd" opacity="0.4"/>
            <circle class="splash splash2" cx="70" cy="130" r="5" fill="#60a5fa" opacity="0.35"/>
            <circle class="splash splash3" cx="90" cy="120" r="4" fill="#93c5fd" opacity="0.45"/>
          </g>
        </svg>
      </div>

      <nav class="quick-menu" aria-label="快速导航菜单">
        <button class="menu-btn" data-action="boost" aria-label="进入OKX Boost功能">
          <span class="btn-text">OKX Boost</span>
        </button>
        <button class="menu-btn" data-action="model" aria-label="查看经济模型演示">
          <span class="btn-text">经济模型演示</span>
        </button>
        <button class="menu-btn" data-action="tools" aria-label="使用常用工具">
          <span class="btn-text">常用工具</span>
        </button>
        <button class="menu-btn" data-action="profile" aria-label="进入个人中心">
          <span class="btn-text">个人中心</span>
        </button>
      </nav>
    </section>

    <footer class="page-footer">
      <p>© 2024 海豚社区 · 会员中心 | 
        <a href="/privacy" aria-label="查看隐私政策">隐私政策</a> · 
        <a href="/terms" aria-label="查看服务条款">服务条款</a> · 
        <a href="/contact" aria-label="联系我们">联系我们</a>
      </p>
    </footer>
  </main>

  <!-- GSAP - 添加异步加载和错误处理 -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer"
          async
          onload="window.gsapLoaded = true"
          onerror="window.gsapError = true">
  </script>

  <script>
    (function() {
      'use strict';
      
      // 性能优化 - 等待关键资源加载
      let resourcesLoaded = false;
      let gsapCheckInterval;
      
      function checkResources() {
        if (window.gsapLoaded || window.gsapError) {
          clearInterval(gsapCheckInterval);
          resourcesLoaded = true;
          initApplication();
        }
      }
      
      // 设置超时时间（5秒）
      setTimeout(() => {
        if (!resourcesLoaded) {
          clearInterval(gsapCheckInterval);
          console.warn('资源加载超时，使用降级方案');
          window.gsapError = true;
          initApplication();
        }
      }, 5000);
      
      // 开始检查资源
      gsapCheckInterval = setInterval(checkResources, 100);
      
      // 初始化应用
      function initApplication() {
        const loadingState = document.getElementById('loadingState');
        const mainContent = document.getElementById('mainContent');
        
        // 隐藏加载状态
        loadingState.style.opacity = '0';
        loadingState.style.visibility = 'hidden';
        
        // 显示主要内容
        mainContent.classList.remove('content-hidden');
        mainContent.classList.add('content-visible');
        
        // 设置焦点到标题
        setTimeout(() => {
          document.getElementById('pageTitle').focus();
        }, 100);
        
        // 检查GSAP是否可用
        if (window.gsapError || !window.gsap) {
          console.warn('GSAP加载失败，使用降级动画效果');
          initFallbackAnimations();
        } else {
          initGSAPAnimations();
        }
        
        initButtonInteractions();
        initPerformanceMonitoring();
      }
      
      // GSAP动画初始化
      function initGSAPAnimations() {
        try {
          // 海豚整体大动作循环
          gsap.timeline({repeat:-1, yoyo:true, repeatDelay:1.5})
            .to(".dolphin-group", {
              y: -60,
              rotation: -8,
              duration: 2.8,
              ease: "power3.out"
            })
            .to(".dolphin-group", {
              y: 0,
              rotation: 6,
              duration: 3.5,
              ease: "power3.inOut"
            }, "-=2");
          
          // 尾巴摆动
          gsap.to(".tail", {
            rotation: 12,
            transformOrigin: "right center",
            duration: 0.9,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut"
          });
          
          // 水花动画
          document.querySelectorAll(".splash").forEach((el, i) => {
            gsap.to(el, {
              keyframes: [
                {opacity:0.9, scale:1.6, y:-24, duration:1.1},
                {opacity:0.2, scale:0.7, y:0, duration:2}
              ],
              repeat:-1,
              delay: i*0.5 + Math.random()*0.7,
              ease: "sine.inOut"
            });
          });
        } catch (error) {
          console.error('GSAP动画初始化失败:', error);
          initFallbackAnimations();
        }
      }
      
      // 降级动画效果（当GSAP不可用时）
      function initFallbackAnimations() {
        // 使用CSS动画替代
        const dolphinGroup = document.querySelector('.dolphin-group');
        const tail = document.querySelector('.tail');
        
        if (dolphinGroup) {
          dolphinGroup.style.animation = 'float 3s ease-in-out infinite';
        }
        
        if (tail) {
          tail.style.animation = 'wiggle 1s ease-in-out infinite alternate';
        }
        
        // 添加CSS关键帧
        const style = document.createElement('style');
        style.textContent = `
          @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
          }
          @keyframes wiggle {
            0% { transform: rotate(-5deg); }
            100% { transform: rotate(5deg); }
          }
        `;
        document.head.appendChild(style);
      }
      
      // 按钮交互
      function initButtonInteractions() {
        const buttons = document.querySelectorAll('.menu-btn');
        let currentActiveButton = null;
        
        buttons.forEach(btn => {
          let isHovering = false;
          
          // 键盘导航支持
          btn.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              handleButtonClick(btn);
            }
          });
          
          // 鼠标悬停
          btn.addEventListener('mouseenter', () => {
            isHovering = true;
            if (window.gsap && !window.gsapError) {
              gsap.to('.dolphin-group', {
                y: '-=18',
                rotation: '+=10',
                duration: 0.7,
                ease: "back.out(1.8)"
              });
            }
          });
          
          btn.addEventListener('mouseleave', () => {
            isHovering = false;
            setTimeout(() => {
              if (!isHovering && window.gsap && !window.gsapError) {
                gsap.to('.dolphin-group', {
                  y: '+=18',
                  rotation: '-=10',
                  duration: 1,
                  ease: "elastic.out(1, 0.4)"
                });
              }
            }, 150);
          });
          
          // 点击事件
          btn.addEventListener('click', () => handleButtonClick(btn));
        });
        
        function handleButtonClick(btn) {
          // 移除所有按钮的active状态
          buttons.forEach(b => {
            b.classList.remove('active');
            b.setAttribute('aria-pressed', 'false');
          });
          
          // 设置当前按钮为active
          btn.classList.add('active');
          btn.setAttribute('aria-pressed', 'true');
          currentActiveButton = btn;
          
          // 点击效果
          btn.style.transform = 'scale(0.93)';
          setTimeout(() => {
            btn.style.transform = '';
          }, 120);
          
          // 创建涟漪效果
          createRipple(btn);
          
          // 海豚反应
          const action = btn.getAttribute('data-action');
          let rotateDeg = 12;
          
          if (action === 'boost') rotateDeg = 18;
          if (action === 'model') rotateDeg = -15;
          if (action === 'tools') rotateDeg = 8;
          if (action === 'profile') rotateDeg = -10;
          
          if (window.gsap && !window.gsapError) {
            gsap.to('.dolphin-group', {
              y: -35,
              rotation: rotateDeg,
              duration: 0.4,
              yoyo: true,
              repeat: 1,
              ease: "power2.out"
            });
          }
          
          // 模拟页面跳转（实际项目中这里应该是真实的路由）
          console.log(`导航到: ${btn.querySelector('.btn-text').textContent}`);
        }
        
        function createRipple(button) {
          const ripple = document.createElement('div');
          ripple.className = 'ripple';
          button.appendChild(ripple);
          
          setTimeout(() => {
            if (ripple.parentNode === button) {
              button.removeChild(ripple);
            }
          }, 800);
        }
        
        // 初始设置第一个按钮为active
        if (buttons.length > 0) {
          buttons[0].classList.add('active');
          buttons[0].setAttribute('aria-pressed', 'true');
          currentActiveButton = buttons[0];
        }
      }
      
      // 性能监控
      function initPerformanceMonitoring() {
        // 记录页面性能
        window.addEventListener('load', () => {
          if ('performance' in window) {
            setTimeout(() => {
              const perfData = performance.getEntriesByType('navigation')[0];
              if (perfData) {
                console.log('页面性能数据:', {
                  DNS查询时间: perfData.domainLookupEnd - perfData.domainLookupStart,
                  TCP连接时间: perfData.connectEnd - perfData.connectStart,
                  首字节时间: perfData.responseStart - perfData.requestStart,
                  页面加载完成时间: perfData.loadEventEnd - perfData.loadEventStart,
                  页面完全加载时间: perfData.domComplete - perfData.domLoading
                });
              }
            }, 0);
          }
        });
      }
      
      // 服务工作者注册（如果支持）
      if ('serviceWorker' in navigator && location.protocol === 'https:') {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').catch(err => {
            console.log('Service Worker 注册失败:', err);
          });
        });
      }
    })();
  </script>
</body>
</html>
